{"version":3,"sources":["js003.js"],"names":["btns","document","querySelector","currNum","currSent","numStr","Ans","cal","checkEqual","clearCalculation","innerHTML","addEventListener","count","e","target","nodeName","valNum","Number","textContent","valStr","calculate","ary","split","splice","join","isNaN","findComma","find","item","length","push","str","forEach","val","index","eval"],"mappings":"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","sourcesContent":["let btns = document.querySelector('.btnsWrap')\nlet currNum = document.querySelector('.currNum')\nlet currSent = document.querySelector('.currSent')\n\n//現在剛按下去的按鈕(大字、白色的那個)， eg: a+b=c  也就是b\nlet numStr = ''\n//基本上只會短暫的在按\"=\"後有值，function結束就會清除\nlet Ans = ''\n//就是藍色的那個計算式\nlet cal = []\n\n//判斷如果有按過 \"=\" 則為ture，進入function清除計算欄後 checkEqual 變回 false\nlet checkEqual = false\nfunction clearCalculation() {\n    if (!checkEqual) return\n    currSent.innerHTML = ''\n    checkEqual = false\n}\n\nbtns.addEventListener('click', count)\n\nfunction count(e) {\n    //判斷點擊是否為LI\n    if (e.target.nodeName !== 'LI') return\n\n    //字串轉為數字\n    let valNum = Number(e.target.textContent)\n    //點擊的字串\n    let valStr = e.target.textContent\n\n    calculate(valNum, valStr)\n\n    //判斷點擊刪除鍵\n    if (e.target.textContent == 'delete' || e.target.nodeName == 'I') {\n        let ary = numStr.split('')\n        ary.splice(-1, 1)\n        numStr = ary.join('')\n        currNum.innerHTML = numStr\n    }\n}\n\nfunction calculate(valNum, valStr) {\n    //判斷點擊若為數字或'.'則繼續執行\n    if (!isNaN(valNum) || valStr == '.') {\n        // 判斷是否刪除運算式\n        clearCalculation()\n        if (Ans !== '') {\n            currSent.innerHTML = ''\n            Ans = ''\n        }\n\n        //findComma -> 若有'.'則回傳'.'\n        let findComma = numStr.split('').find(function (item) {\n            return item === '.'\n        })\n\n        //若vlaStr已經包含'.'且按的是'.'，則不繼續執行\n        if (findComma === '.' && valStr === '.') return\n\n        //避免000.00的狀況發生\n        if (Number(valStr) === 0 && numStr == 0 && findComma !== '.') {\n            numStr = '0'\n        } else {\n            //加入點擊按鈕進入numStr\n            numStr = numStr += valStr\n        }\n        currNum.innerHTML = numStr\n    } else if (valStr == 'AC') {\n        //判斷點擊'AC'，清除輸入欄\n        numStr = ''\n        Ans = ''\n        cal = []\n        currNum.innerHTML = ''\n        currSent.innerHTML = ''\n    } else if (\n        valStr === '÷' ||\n        valStr === '×' ||\n        valStr === '+' ||\n        valStr === '−'\n    ) {\n        //加入陣列\n        if (cal.length === 0 && !numStr) return\n        if (numStr === '') {\n            cal[cal.length - 1] = valStr\n        } else {\n            cal.push(Number(numStr), valStr)\n            //清空輸入區\n            currNum.innerHTML = ''\n        }\n        //呈現運算區\n        let str = ''\n        cal.forEach(function (val) {\n            str += ' ' + val\n        })\n        currSent.innerHTML = str\n        numStr = ''\n    } else if (valStr == '=') {\n        // 沒有算式就不執行\n        if (cal.length === 0) return\n\n        //再做一次\n        if (numStr !== '') {\n            cal.push(Number(numStr))\n            //清空輸入區\n            currNum.innerHTML = ''\n        }\n\n        //呈現運算式子\n        let str = ''\n        cal.forEach(function (val) {\n            str += ' ' + val\n        })\n        currSent.innerHTML = str\n        numStr = ''\n\n        //把符號轉為JS看的懂的運算符號\n        cal.forEach(function (item, index) {\n            switch (item) {\n                case '×':\n                    cal[index] = '*'\n                    break\n                case '÷':\n                    cal[index] = '/'\n                    break\n                case '+':\n                    cal[index] = '+'\n                    break\n                case '−':\n                    cal[index] = '-'\n                    break\n            }\n        })\n\n        Ans = eval(cal.join(''))\n        currNum.innerHTML = Ans\n        Ans = ''\n        cal = []\n        checkEqual = true\n    }\n}\n"],"file":"js003.js"}