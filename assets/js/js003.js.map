{"version":3,"sources":["js003.js"],"names":["btns","document","querySelector","currNum","currSent","numStr","Ans","cal","addEventListener","count","e","target","nodeName","valNum","Number","textContent","valStr","isNaN","innerHTML","findComma","split","find","item","length","push","str","forEach","val","index","eval","join","ary","splice"],"mappings":";;AAAA,IAAIA,IAAI,GAAGC,QAAQ,CAACC,aAAT,CAAuB,WAAvB,CAAX;AACA,IAAIC,OAAO,GAAGF,QAAQ,CAACC,aAAT,CAAuB,UAAvB,CAAd;AACA,IAAIE,QAAQ,GAAGH,QAAQ,CAACC,aAAT,CAAuB,WAAvB,CAAf;AAEA,IAAIG,MAAM,GAAG,EAAb;AACA,IAAIC,GAAG,GAAG,EAAV,C,CACA;;AACA,IAAIC,GAAG,GAAG,EAAV;AAGAP,IAAI,CAACQ,gBAAL,CAAsB,OAAtB,EAA+BC,KAA/B;;AAEA,SAASA,KAAT,CAAeC,CAAf,EAAkB;AACjB;AACA,MAAIA,CAAC,CAACC,MAAF,CAASC,QAAT,KAAsB,IAA1B,EAAgC;AAC/B;AACA,QAAIC,MAAM,GAAGC,MAAM,CAACJ,CAAC,CAACC,MAAF,CAASI,WAAV,CAAnB,CAF+B,CAG/B;;AACA,QAAIC,MAAM,GAAGN,CAAC,CAACC,MAAF,CAASI,WAAtB,CAJ+B,CAM/B;;AACA,QAAI,CAACE,KAAK,CAACJ,MAAD,CAAN,IAAkBG,MAAM,IAAI,GAAhC,EAAqC;AACpC,UAAIV,GAAG,KAAK,EAAZ,EAAgB;AACfF,QAAAA,QAAQ,CAACc,SAAT,GAAqB,EAArB;AACAZ,QAAAA,GAAG,GAAG,EAAN;AACA,OAJmC,CAKpC;;;AACA,UAAIa,SAAS,GAAGd,MAAM,CAACe,KAAP,CAAa,EAAb,EAAiBC,IAAjB,CAAsB,UAAUC,IAAV,EAAgB;AACrD,eAAOA,IAAI,KAAK,GAAhB;AACA,OAFe,CAAhB,CANoC,CASpC;;AACA,UAAIH,SAAS,KAAK,GAAd,IAAqBH,MAAM,KAAK,GAApC,EAAyC;AAAE;AAAQ;;AACnD,UAAIF,MAAM,CAACE,MAAD,CAAN,KAAmB,CAAnB,IAAwBX,MAAM,IAAI,CAAtC,EAAyC;AACxCA,QAAAA,MAAM,GAAG,GAAT;AACA,OAFD,MAEO;AACN;AACAA,QAAAA,MAAM,GAAGA,MAAM,IAAIW,MAAnB;AACA;;AACDb,MAAAA,OAAO,CAACe,SAAR,GAAoBb,MAApB;AACA,KAlBD,MAkBO,IAAIW,MAAM,IAAI,IAAd,EAAoB;AAAG;AAC7BX,MAAAA,MAAM,GAAG,EAAT;AACAF,MAAAA,OAAO,CAACe,SAAR,GAAoB,EAApB;AACAf,MAAAA,OAAO,CAACe,SAAR,GAAoBb,MAApB;AACA,KAJM,MAIA,IAAIW,MAAM,KAAK,GAAX,IAAkBA,MAAM,KAAK,GAA7B,IAAoCA,MAAM,KAAK,GAA/C,IAAsDA,MAAM,KAAK,GAArE,EAA0E;AAChF;AACA,UAAIX,MAAM,KAAK,EAAf,EAAmB;AAClBE,QAAAA,GAAG,CAACA,GAAG,CAACgB,MAAJ,GAAa,CAAd,CAAH,GAAsBP,MAAtB;AACA,OAFD,MAEO;AACNT,QAAAA,GAAG,CAACiB,IAAJ,CAASV,MAAM,CAACT,MAAD,CAAf,EAAyBW,MAAzB,EADM,CAEN;;AACAb,QAAAA,OAAO,CAACe,SAAR,GAAoB,EAApB;AACA,OAR+E,CAShF;;;AACA,UAAIO,GAAG,GAAG,EAAV;AACAlB,MAAAA,GAAG,CAACmB,OAAJ,CAAY,UAAUC,GAAV,EAAe;AAC1BF,QAAAA,GAAG,IAAI,MAAME,GAAb;AACA,OAFD;AAGAvB,MAAAA,QAAQ,CAACc,SAAT,GAAqBO,GAArB;AACApB,MAAAA,MAAM,GAAG,EAAT;AAEA,KAjBM,MAiBA,IAAIW,MAAM,IAAI,GAAd,EAAmB;AAEzB;AACA,UAAIX,MAAM,KAAK,EAAf,EAAmB;AAClBE,QAAAA,GAAG,CAACiB,IAAJ,CAASV,MAAM,CAACT,MAAD,CAAf,EADkB,CAElB;;AACAF,QAAAA,OAAO,CAACe,SAAR,GAAoB,EAApB;AACA,OAPwB,CAQzB;;;AACA,UAAIO,IAAG,GAAG,EAAV;AACAlB,MAAAA,GAAG,CAACmB,OAAJ,CAAY,UAAUC,GAAV,EAAe;AAC1BF,QAAAA,IAAG,IAAI,MAAME,GAAb;AACA,OAFD;AAGAvB,MAAAA,QAAQ,CAACc,SAAT,GAAqBO,IAArB;AACApB,MAAAA,MAAM,GAAG,EAAT;AAEAE,MAAAA,GAAG,CAACmB,OAAJ,CAAY,UAAUJ,IAAV,EAAgBM,KAAhB,EAAuB;AAClC,gBAAQN,IAAR;AACC,eAAK,GAAL;AACCf,YAAAA,GAAG,CAACqB,KAAD,CAAH,GAAa,GAAb;AACA;;AACD,eAAK,GAAL;AACCrB,YAAAA,GAAG,CAACqB,KAAD,CAAH,GAAa,GAAb;AACA;;AACD,eAAK,GAAL;AACCrB,YAAAA,GAAG,CAACqB,KAAD,CAAH,GAAa,GAAb;AACA;;AACD,eAAK,GAAL;AACCrB,YAAAA,GAAG,CAACqB,KAAD,CAAH,GAAa,GAAb;AACA;AAZF;AAcA,OAfD;AAgBAtB,MAAAA,GAAG,GAAGuB,IAAI,CAACtB,GAAG,CAACuB,IAAJ,CAAS,EAAT,CAAD,CAAV;AACAvB,MAAAA,GAAG,GAAG,EAAN;AACAJ,MAAAA,OAAO,CAACe,SAAR,GAAoBZ,GAApB;AACA;AACD,GApFgB,CAqFjB;;;AACA,MAAII,CAAC,CAACC,MAAF,CAASI,WAAT,IAAwB,QAAxB,IAAoCL,CAAC,CAACC,MAAF,CAASC,QAAT,IAAqB,GAA7D,EAAkE;AACjE,QAAImB,GAAG,GAAG1B,MAAM,CAACe,KAAP,CAAa,EAAb,CAAV;AACAW,IAAAA,GAAG,CAACC,MAAJ,CAAW,CAAC,CAAZ,EAAe,CAAf;AACA3B,IAAAA,MAAM,GAAG0B,GAAG,CAACD,IAAJ,CAAS,EAAT,CAAT;AACA3B,IAAAA,OAAO,CAACe,SAAR,GAAoBb,MAApB;AACA;AAED","sourcesContent":["let btns = document.querySelector('.btnsWrap');\r\nlet currNum = document.querySelector('.currNum');\r\nlet currSent = document.querySelector('.currSent');\r\n\r\nlet numStr = '';\r\nlet Ans = '';\r\n//運算式\r\nlet cal = [];\r\n\r\n\r\nbtns.addEventListener('click', count);\r\n\r\nfunction count(e) {\r\n\t//判斷點擊是否為LI\r\n\tif (e.target.nodeName === 'LI') {\r\n\t\t//字串轉為數字\r\n\t\tlet valNum = Number(e.target.textContent);\r\n\t\t//點擊的字串\r\n\t\tlet valStr = e.target.textContent;\r\n\r\n\t\t//判斷點擊若為數字或'.'則繼續執行\r\n\t\tif (!isNaN(valNum) || valStr == '.') {\r\n\t\t\tif (Ans !== '') {\r\n\t\t\t\tcurrSent.innerHTML = '';\r\n\t\t\t\tAns = '';\r\n\t\t\t}\r\n\t\t\t//findComma -> 若有'.'則回傳'.'\r\n\t\t\tlet findComma = numStr.split('').find(function (item) {\r\n\t\t\t\treturn item === \".\"\r\n\t\t\t});\r\n\t\t\t//若已經包含'.'且按的是'.'，則不繼續執行\r\n\t\t\tif (findComma === \".\" && valStr === '.') { return }\r\n\t\t\tif (Number(valStr) === 0 && numStr == 0) {\r\n\t\t\t\tnumStr = '0';\r\n\t\t\t} else {\r\n\t\t\t\t//加入點擊按鈕進入numStr\r\n\t\t\t\tnumStr = numStr += valStr;\r\n\t\t\t}\r\n\t\t\tcurrNum.innerHTML = numStr;\r\n\t\t} else if (valStr == 'AC') {  //判斷點擊'AC'，清除輸入欄\r\n\t\t\tnumStr = '';\r\n\t\t\tcurrNum.innerHTML = '';\r\n\t\t\tcurrNum.innerHTML = numStr;\r\n\t\t} else if (valStr === '÷' || valStr === '×' || valStr === '+' || valStr === '−') {\r\n\t\t\t//加入陣列\r\n\t\t\tif (numStr === '') {\r\n\t\t\t\tcal[cal.length - 1] = valStr;\r\n\t\t\t} else {\r\n\t\t\t\tcal.push(Number(numStr), valStr);\r\n\t\t\t\t//清空輸入區\r\n\t\t\t\tcurrNum.innerHTML = '';\r\n\t\t\t}\r\n\t\t\t//呈現運算區\r\n\t\t\tlet str = ''\r\n\t\t\tcal.forEach(function (val) {\r\n\t\t\t\tstr += ' ' + val\r\n\t\t\t});\r\n\t\t\tcurrSent.innerHTML = str;\r\n\t\t\tnumStr = '';\r\n\r\n\t\t} else if (valStr == '=') {\r\n\r\n\t\t\t//再做一次\r\n\t\t\tif (numStr !== '') {\r\n\t\t\t\tcal.push(Number(numStr));\r\n\t\t\t\t//清空輸入區\r\n\t\t\t\tcurrNum.innerHTML = '';\r\n\t\t\t}\r\n\t\t\t//呈現運算區\r\n\t\t\tlet str = ''\r\n\t\t\tcal.forEach(function (val) {\r\n\t\t\t\tstr += ' ' + val\r\n\t\t\t});\r\n\t\t\tcurrSent.innerHTML = str;\r\n\t\t\tnumStr = '';\r\n\r\n\t\t\tcal.forEach(function (item, index) {\r\n\t\t\t\tswitch (item) {\r\n\t\t\t\t\tcase \"×\":\r\n\t\t\t\t\t\tcal[index] = '*';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"÷\":\r\n\t\t\t\t\t\tcal[index] = '/';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"+\":\r\n\t\t\t\t\t\tcal[index] = '+';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"-\":\r\n\t\t\t\t\t\tcal[index] = '-';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tAns = eval(cal.join(''));\r\n\t\t\tcal = [];\r\n\t\t\tcurrNum.innerHTML = Ans;\r\n\t\t}\r\n\t}\r\n\t//判斷點擊刪除鍵\r\n\tif (e.target.textContent == \"delete\" || e.target.nodeName == 'I') {\r\n\t\tlet ary = numStr.split('');\r\n\t\tary.splice(-1, 1);\r\n\t\tnumStr = ary.join('');\r\n\t\tcurrNum.innerHTML = numStr;\r\n\t}\r\n\r\n}"],"file":"js003.js"}